language: ruby
cache: bundler

before_install:
  - gem update --system
  - gem --version
  - gem install bundler

rvm:
  - 1.9.3
  - 2.0.0
  - 2.1.0
  - 2.1.1
  - 2.1.2
  - ruby-head
  - jruby
  - rbx-2

matrix:
  allow_failures:
    - rvm: jruby
    - rvm: ruby-head
    - rvm: rbx-2

script:
  - "env COVERAGE=true bundle exec rspec"
  - "env COVERAGE=true bundle exec bin/test_runner"

notifications:
  email:
    recipients:
      - r3qnbenni@gmail.com
    email:
      on_failure: change
      on_success: change
